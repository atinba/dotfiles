switchHM() {
  home-manager switch --flake ~/.dotfiles#ab
}

switchSys() {
  sudo nixos-rebuild switch --install-bootloader --flake ~/.dotfiles#laptop
}

nix flake update
git add -A
nix fmt

case $1 in
  "hm")
    switchHM;;
  "sys")
    switchSys;;
  *)
    switchHM && switchSys;;
esac

